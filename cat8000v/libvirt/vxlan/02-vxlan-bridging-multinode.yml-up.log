Bringing machine 's1' up with 'libvirt' provider...
Bringing machine 's2' up with 'libvirt' provider...
Bringing machine 's3' up with 'libvirt' provider...
==> s3: Checking if box 'cisco/cat8000v' version '17.13.01' is up to date...
==> s2: Checking if box 'cisco/cat8000v' version '17.13.01' is up to date...
==> s1: Checking if box 'cisco/cat8000v' version '17.13.01' is up to date...
==> s3: Creating image (snapshot of base box volume).
==> s3: Creating domain with the following settings...
==> s3:  -- Name:              ml_17_s3
==> s3:  -- Description:       Source: /work/netlab_cicd/Vagrantfile
==> s3:  -- Domain type:       kvm
==> s3:  -- Cpus:              2
==> s3:  -- Feature:           acpi
==> s3:  -- Feature:           apic
==> s3:  -- Feature:           pae
==> s3:  -- Clock offset:      utc
==> s2: Creating image (snapshot of base box volume).
==> s1: Creating image (snapshot of base box volume).
==> s3:  -- Memory:            4096M
==> s3:  -- Management MAC:    08:4f:a9:00:00:09
==> s3:  -- Base box:          cisco/cat8000v
==> s3:  -- Storage pool:      default
==> s2: Creating domain with the following settings...
==> s1: Creating domain with the following settings...
==> s3:  -- Image(vda):        /var/lib/libvirt/images/ml_17_s3.img, virtio, 8G
==> s2:  -- Name:              ml_17_s2
==> s3:  -- Disk driver opts:  cache='default'
==> s1:  -- Name:              ml_17_s1
==> s2:  -- Description:       Source: /work/netlab_cicd/Vagrantfile
==> s3:  -- Graphics Type:     vnc
==> s1:  -- Description:       Source: /work/netlab_cicd/Vagrantfile
==> s2:  -- Domain type:       kvm
==> s1:  -- Domain type:       kvm
==> s3:  -- Video Type:        cirrus
==> s2:  -- Cpus:              2
==> s1:  -- Cpus:              2
==> s3:  -- Video VRAM:        16384
==> s2:  -- Feature:           acpi
==> s1:  -- Feature:           acpi
==> s2:  -- Feature:           apic
==> s1:  -- Feature:           apic
==> s1:  -- Feature:           pae
==> s1:  -- Clock offset:      utc
==> s1:  -- Memory:            4096M
==> s1:  -- Management MAC:    08:4f:a9:00:00:07
==> s1:  -- Base box:          cisco/cat8000v
==> s1:  -- Storage pool:      default
==> s1:  -- Image(vda):        /var/lib/libvirt/images/ml_17_s1.img, virtio, 8G
==> s1:  -- Disk driver opts:  cache='default'
==> s1:  -- Graphics Type:     vnc
==> s1:  -- Video Type:        cirrus
==> s3:  -- Video 3D accel:    false
==> s1:  -- Video VRAM:        16384
==> s2:  -- Feature:           pae
==> s1:  -- Video 3D accel:    false
==> s2:  -- Clock offset:      utc
==> s2:  -- Memory:            4096M
==> s2:  -- Management MAC:    08:4f:a9:00:00:08
==> s2:  -- Base box:          cisco/cat8000v
==> s2:  -- Storage pool:      default
==> s2:  -- Image(vda):        /var/lib/libvirt/images/ml_17_s2.img, virtio, 8G
==> s2:  -- Disk driver opts:  cache='default'
==> s3:  -- Keymap:            en-us
==> s2:  -- Graphics Type:     vnc
==> s1:  -- Keymap:            en-us
==> s1:  -- TPM Backend:       passthrough
==> s1:  -- INPUT:             type=mouse, bus=ps2
==> s3:  -- TPM Backend:       passthrough
==> s2:  -- Video Type:        cirrus
==> s3:  -- INPUT:             type=mouse, bus=ps2
==> s2:  -- Video VRAM:        16384
==> s2:  -- Video 3D accel:    false
==> s2:  -- Keymap:            en-us
==> s2:  -- TPM Backend:       passthrough
==> s2:  -- INPUT:             type=mouse, bus=ps2
==> s2: Creating shared folders metadata...
==> s3: Creating shared folders metadata...
==> s3: Starting domain.
==> s2: Starting domain.
==> s3: Domain launching with graphics connection settings...
==> s1: Creating shared folders metadata...
==> s2: Domain launching with graphics connection settings...
==> s1: Starting domain.
==> s3:  -- Graphics Port:      5900
==> s2:  -- Graphics Port:      5901
==> s1: Domain launching with graphics connection settings...
==> s3:  -- Graphics IP:        127.0.0.1
==> s3:  -- Graphics Password:  Not defined
==> s3:  -- Graphics Websocket: 5700
==> s3: Waiting for domain to get an IP address...
==> s2:  -- Graphics IP:        127.0.0.1
==> s1:  -- Graphics Port:      5902
==> s1:  -- Graphics IP:        127.0.0.1
==> s2:  -- Graphics Password:  Not defined
==> s1:  -- Graphics Password:  Not defined
==> s1:  -- Graphics Websocket: 5702
==> s1: Waiting for domain to get an IP address...
==> s2:  -- Graphics Websocket: 5701
==> s2: Waiting for domain to get an IP address...
==> s3: Waiting for cleanup before exiting...
Using transformed lab topology from snapshot file netlab.snapshot.yml
Checking virtualization provider installation
OK: libvirt installed and working correctly
OK: clab installed and working correctly
Starting libvirt nodes
creating libvirt management network nl_mgmt_17
provider libvirt: executing vagrant up --provider libvirt
Traceback (most recent call last):
  File "/home/pipi/net101/tools/netlab", line 12, in <module>
    netsim.cli.lab_commands(__file__)
  File "/home/pipi/net101/tools/netsim/cli/__init__.py", line 321, in lab_commands
    mod.run(sys.argv[arg_start:])   # type: ignore
  File "/home/pipi/net101/tools/netsim/cli/up.py", line 334, in run
    start_provider_lab(topology,p_provider)
  File "/home/pipi/net101/tools/netsim/cli/up.py", line 210, in start_provider_lab
    if not external_commands.run_command(cmd):
  File "/home/pipi/net101/tools/netsim/cli/external_commands.py", line 96, in run_command
    result = subprocess.run(cmd,capture_output=check_result,check=True,text=True)
  File "/usr/lib/python3.10/subprocess.py", line 505, in run
    stdout, stderr = process.communicate(input, timeout=timeout)
  File "/usr/lib/python3.10/subprocess.py", line 1146, in communicate
    self.wait()
  File "/usr/lib/python3.10/subprocess.py", line 1209, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.10/subprocess.py", line 1959, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.10/subprocess.py", line 1917, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
==> s3: Removing domain...
==> s1: Removing domain...
==> s2: Removing domain...
==> s3: Deleting the machine folder
==> s1: Deleting the machine folder
==> s2: Deleting the machine folder
==> s3: An error occurred. The error will be shown after all tasks complete.
==> s1: An error occurred. The error will be shown after all tasks complete.
==> s2: An error occurred. The error will be shown after all tasks complete.
An error occurred while executing multiple actions in parallel.
Any errors that occurred are shown below.

An error occurred while executing the action on the 's1'
machine. Please handle this error then try again:

Vagrant exited after cleanup due to external interrupt.

An error occurred while executing the action on the 's2'
machine. Please handle this error then try again:

Vagrant exited after cleanup due to external interrupt.

An error occurred while executing the action on the 's3'
machine. Please handle this error then try again:

Vagrant exited after cleanup due to external interrupt.
