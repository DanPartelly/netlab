[WARNING]: Could not match supplied host pattern, ignoring: unprovisioned

PLAY [Deploy initial device configuration] *************************************

TASK [Set variables that cannot be set with VARS] ******************************
ok: [dut]
ok: [r2]
ok: [r4]
ok: [r1]
ok: [r3]

TASK [Find device readiness script] ********************************************
ok: [dut]
ok: [r2]
ok: [r4]
ok: [r1]
ok: [r3]

TASK [Wait for device to become ready] *****************************************
skipping: [dut]
skipping: [r2]
skipping: [r4]
skipping: [r1]
skipping: [r3]

TASK [Deploy initial configuration] ********************************************
included: /home/pipi/net101/tools/netsim/ansible/tasks/deploy-module.yml for dut, r2, r4, r1, r3

TASK [Figure out whether to deploy the module initial on current device] *******
ok: [dut]
ok: [r2]
ok: [r4]
ok: [r1]
ok: [r3]

TASK [Find configuration template for initial] *********************************
ok: [dut]
ok: [r2]
ok: [r4]
ok: [r1]
ok: [r3]

TASK [Print deployed configuration when running in verbose mode] ***************
skipping: [dut]
skipping: [r2]
skipping: [r4]
skipping: [r1]
skipping: [r3]

TASK [Find configuration deployment deploy_script for initial] *****************
ok: [dut]
ok: [r2]
ok: [r4]
ok: [r1]
ok: [r3]

TASK [Deploy initial configuration] ********************************************
included: /home/pipi/net101/tools/netsim/ansible/tasks/deploy-config/cumulus.yml for dut
included: /home/pipi/net101/tools/netsim/ansible/tasks/deploy-config/frr.yml for r2, r4, r1, r3

TASK [copy cumulus config to /tmp/config.sh] ***********************************
changed: [dut]

TASK [set_fact deployed_config] ************************************************
ok: [dut]

TASK [run /tmp/config.sh to deploy initial config from /home/pipi/net101/tools/netsim/ansible/templates/initial/cumulus.j2] ***
changed: [dut]

TASK [run vtysh to import initial config from /home/pipi/net101/tools/netsim/ansible/templates/initial/cumulus.j2] ***
skipping: [dut]

TASK [template] ****************************************************************
changed: [r4]
changed: [r2]
changed: [r1]
changed: [r3]

TASK [set_fact] ****************************************************************
ok: [r2]
ok: [r4]
ok: [r1]
ok: [r3]

TASK [run /tmp/config.sh to deploy initial config from /home/pipi/net101/tools/netsim/ansible/templates/initial/frr.j2] ***
changed: [r1]
changed: [r2]
changed: [r4]
changed: [r3]

TASK [run vtysh to import initial config from /home/pipi/net101/tools/netsim/ansible/templates/initial/frr.j2] ***
skipping: [r2]
skipping: [r4]
skipping: [r1]
skipping: [r3]

PLAY [Deploy module-specific configurations] ***********************************

TASK [Set variables that cannot be set with VARS] ******************************
ok: [dut]
ok: [r1]
ok: [r2]
ok: [r4]
ok: [r3]

TASK [Deploy individual configuration modules] *********************************
included: /home/pipi/net101/tools/netsim/ansible/tasks/deploy-module.yml for dut, r1, r2, r3, r4 => (item=bgp)
included: /home/pipi/net101/tools/netsim/ansible/tasks/deploy-module.yml for dut, r1, r2, r3, r4 => (item=ospf)
included: /home/pipi/net101/tools/netsim/ansible/tasks/deploy-module.yml for dut, r1, r2, r3, r4 => (item=vrf)

TASK [Figure out whether to deploy the module bgp on current device] ***********
ok: [dut]
ok: [r1]
ok: [r2]
ok: [r3]
ok: [r4]

TASK [Find configuration template for bgp] *************************************
skipping: [r1]
skipping: [r3]
ok: [dut]
ok: [r2]
ok: [r4]

TASK [Print deployed configuration when running in verbose mode] ***************
skipping: [dut]
skipping: [r1]
skipping: [r2]
skipping: [r3]
skipping: [r4]

TASK [Find configuration deployment deploy_script for bgp] *********************
skipping: [r1]
skipping: [r3]
ok: [dut]
ok: [r2]
ok: [r4]

TASK [Deploy bgp configuration] ************************************************
skipping: [r1]
skipping: [r3]
included: /home/pipi/net101/tools/netsim/ansible/tasks/deploy-config/cumulus.yml for dut
included: /home/pipi/net101/tools/netsim/ansible/tasks/deploy-config/frr.yml for r2, r4

TASK [copy cumulus config to /tmp/config.sh] ***********************************
changed: [dut]

TASK [set_fact deployed_config] ************************************************
ok: [dut]

TASK [run /tmp/config.sh to deploy bgp config from /home/pipi/net101/tools/netsim/ansible/templates/bgp/cumulus.j2] ***
skipping: [dut]

TASK [run vtysh to import bgp config from /home/pipi/net101/tools/netsim/ansible/templates/bgp/cumulus.j2] ***
changed: [dut]

TASK [template] ****************************************************************
changed: [r4]
changed: [r2]

TASK [set_fact] ****************************************************************
ok: [r2]
ok: [r4]

TASK [run /tmp/config.sh to deploy bgp config from /home/pipi/net101/tools/netsim/ansible/templates/bgp/frr.j2] ***
skipping: [r2]
skipping: [r4]

TASK [run vtysh to import bgp config from /home/pipi/net101/tools/netsim/ansible/templates/bgp/frr.j2] ***
changed: [r4]
changed: [r2]

TASK [Figure out whether to deploy the module ospf on current device] **********
ok: [dut]
ok: [r1]
ok: [r2]
ok: [r3]
ok: [r4]

TASK [Find configuration template for ospf] ************************************
skipping: [r2]
ok: [dut]
ok: [r1]
skipping: [r4]
ok: [r3]

TASK [Print deployed configuration when running in verbose mode] ***************
skipping: [dut]
skipping: [r1]
skipping: [r2]
skipping: [r3]
skipping: [r4]

TASK [Find configuration deployment deploy_script for ospf] ********************
skipping: [r2]
skipping: [r4]
ok: [dut]
ok: [r1]
ok: [r3]

TASK [Deploy ospf configuration] ***********************************************
skipping: [r2]
skipping: [r4]
included: /home/pipi/net101/tools/netsim/ansible/tasks/deploy-config/cumulus.yml for dut
included: /home/pipi/net101/tools/netsim/ansible/tasks/deploy-config/frr.yml for r1, r3

TASK [copy cumulus config to /tmp/config.sh] ***********************************
changed: [dut]

TASK [set_fact deployed_config] ************************************************
ok: [dut]

TASK [run /tmp/config.sh to deploy ospf config from /home/pipi/net101/tools/netsim/ansible/templates/ospf/cumulus.j2] ***
skipping: [dut]

TASK [run vtysh to import ospf config from /home/pipi/net101/tools/netsim/ansible/templates/ospf/cumulus.j2] ***
changed: [dut]

TASK [template] ****************************************************************
changed: [r3]
changed: [r1]

TASK [set_fact] ****************************************************************
ok: [r1]
ok: [r3]

TASK [run /tmp/config.sh to deploy ospf config from /home/pipi/net101/tools/netsim/ansible/templates/ospf/frr.j2] ***
skipping: [r1]
skipping: [r3]

TASK [run vtysh to import ospf config from /home/pipi/net101/tools/netsim/ansible/templates/ospf/frr.j2] ***
changed: [r1]
changed: [r3]

TASK [Figure out whether to deploy the module vrf on current device] ***********
ok: [dut]
ok: [r1]
ok: [r2]
ok: [r3]
ok: [r4]

TASK [Find configuration template for vrf] *************************************
skipping: [r1]
skipping: [r2]
skipping: [r3]
ok: [dut]
skipping: [r4]

TASK [Print deployed configuration when running in verbose mode] ***************
skipping: [dut]
skipping: [r1]
skipping: [r2]
skipping: [r3]
skipping: [r4]

TASK [Find configuration deployment deploy_script for vrf] *********************
skipping: [r1]
skipping: [r2]
skipping: [r3]
skipping: [r4]
ok: [dut]

TASK [Deploy vrf configuration] ************************************************
skipping: [r1]
skipping: [r2]
skipping: [r3]
skipping: [r4]
included: /home/pipi/net101/tools/netsim/ansible/tasks/deploy-config/cumulus.yml for dut

TASK [copy cumulus config to /tmp/config.sh] ***********************************
changed: [dut]

TASK [set_fact deployed_config] ************************************************
ok: [dut]

TASK [run /tmp/config.sh to deploy vrf config from /home/pipi/net101/tools/netsim/ansible/templates/vrf/cumulus.j2] ***
fatal: [dut]: FAILED! => changed=true 
  cmd:
  - bash
  - /tmp/config.sh
  delta: '0:00:00.316592'
  end: '2024-04-03 10:33:40.404670'
  msg: non-zero return code
  rc: 2
  start: '2024-04-03 10:33:40.088078'
  stderr: |-
    ***  switchd is not licensed
    ***
    line 56: % Unknown command[16]:  ipv6 ospf6 area 0.0.0.0
    line 60: % Unknown command[16]: router ospf6 vrf blue
    line 61: % Unknown command[16]:  ospf6 router-id 10.0.0.1
    line 62: % Unknown command[16]:  redistribute bgp
    line 63: % Unknown command[16]:  redistribute connected
    line 72: % Unknown command[16]:  ipv6 ospf6 area 0.0.0.0
    line 76: % Unknown command[16]: router ospf6 vrf red
    line 77: % Unknown command[16]:  ospf6 router-id 10.0.0.1
    line 78: % Unknown command[16]:  redistribute bgp
    line 79: % Unknown command[16]:  redistribute connected
  stderr_lines: <omitted>
  stdout: ''
  stdout_lines: <omitted>

PLAY [Deploy custom deployment templates] **************************************
skipping: no hosts matched

PLAY RECAP *********************************************************************
dut                        : ok=34   changed=7    unreachable=0    failed=1    skipped=8    rescued=0    ignored=0   
r1                         : ok=23   changed=4    unreachable=0    failed=0    skipped=13   rescued=0    ignored=0   
r2                         : ok=23   changed=4    unreachable=0    failed=0    skipped=13   rescued=0    ignored=0   
r3                         : ok=23   changed=4    unreachable=0    failed=0    skipped=13   rescued=0    ignored=0   
r4                         : ok=23   changed=4    unreachable=0    failed=0    skipped=13   rescued=0    ignored=0   

Fatal error in netlab: Executing Ansible playbook /home/pipi/net101/tools/netsim/ansible/initial-config.ansible failed
Error executing ansible-playbook /home/pipi/net101/tools/netsim/ansible/initial-config.ansible:
  Command '['ansible-playbook', '/home/pipi/net101/tools/netsim/ansible/initial-config.ansible']' returned non-zero exit status 2.
