[session] Check BGP sessions with DUT1 [ node(s): r1,r2,rr2,x1 ]
[PASS]    x1: Neighbor 2001:db8:2:3::1 (dut) is in state Established
[WAITING] Wait for BGP sessions to be established (retrying for 40 seconds)
[WAITING] Wait for BGP sessions to be established (24 seconds left)
[WAITING] Wait for BGP sessions to be established (9 seconds left)
[FAIL]    r1: The neighbor 2001:db8:1:1::1 (dut) is in state Active (expected Established)
Returned result
================================================================================
ipv6Unicast:
  as: 65000
  bestPath:
    multiPathRelax: 'true'
  displayedPeers: 2
  dynamicPeers: 0
  failedPeers: 1
  peerCount: 2
  peerMemory: 26864
  peers:
    2001:db8:1:1::1:
      connectionsDropped: 0
      connectionsEstablished: 0
      desc: dut
      idType: ipv6
      inq: 0
      localAs: 65000
      msgRcvd: 0
      msgSent: 0
      outq: 0
      peerState: OK
      peerUptime: never
      peerUptimeMsec: 0
      pfxRcd: 0
      pfxSnt: 0
      remoteAs: 65000
      state: Active
      tableVersion: 0
      version: 4
    2001:db8:1:2::1:
      connectionsDropped: 0
      connectionsEstablished: 1
      desc: rr2
      hostname: rr2
      idType: ipv6
      inq: 0
      localAs: 65000
      msgRcvd: 14
      msgSent: 12
      outq: 0
      peerState: OK
      peerUptime: 00:00:26
      peerUptimeEstablishedEpoch: 1714505179
      peerUptimeMsec: 26000
      pfxRcd: 2
      pfxSnt: 2
      remoteAs: 65000
      state: Established
      tableVersion: 4
      version: 4
  ribCount: 7
  ribMemory: 672
  routerId: 10.0.0.10
  tableVersion: 4
  totalPeers: 2
  vrfId: 0
  vrfName: default

[FAIL]    r2: The neighbor 2001:db8:1:1::1 (dut) is in state Active (expected Established)
Returned result
================================================================================
ipv6Unicast:
  as: 65000
  bestPath:
    multiPathRelax: 'true'
  displayedPeers: 2
  dynamicPeers: 0
  failedPeers: 1
  peerCount: 2
  peerMemory: 26864
  peers:
    2001:db8:1:1::1:
      connectionsDropped: 0
      connectionsEstablished: 0
      desc: dut
      idType: ipv6
      inq: 0
      localAs: 65000
      msgRcvd: 0
      msgSent: 0
      outq: 0
      peerState: OK
      peerUptime: never
      peerUptimeMsec: 0
      pfxRcd: 0
      pfxSnt: 0
      remoteAs: 65000
      state: Active
      tableVersion: 0
      version: 4
    2001:db8:1:2::1:
      connectionsDropped: 0
      connectionsEstablished: 1
      desc: rr2
      hostname: rr2
      idType: ipv6
      inq: 0
      localAs: 65000
      msgRcvd: 14
      msgSent: 12
      outq: 0
      peerState: OK
      peerUptime: 00:00:27
      peerUptimeEstablishedEpoch: 1714505178
      peerUptimeMsec: 27000
      pfxRcd: 3
      pfxSnt: 1
      remoteAs: 65000
      state: Established
      tableVersion: 4
      version: 4
  ribCount: 7
  ribMemory: 672
  routerId: 10.0.0.3
  tableVersion: 4
  totalPeers: 2
  vrfId: 0
  vrfName: default

[FAIL]    rr2: The neighbor 2001:db8:1:1::1 (dut) is in state Active (expected Established)
Returned result
================================================================================
ipv6Unicast:
  as: 65000
  bestPath:
    multiPathRelax: 'true'
  displayedPeers: 3
  dynamicPeers: 0
  failedPeers: 1
  peerCount: 3
  peerMemory: 40296
  peers:
    2001:db8:1:1::1:
      connectionsDropped: 0
      connectionsEstablished: 0
      desc: dut
      idType: ipv6
      inq: 0
      localAs: 65000
      msgRcvd: 0
      msgSent: 0
      outq: 0
      peerState: OK
      peerUptime: never
      peerUptimeMsec: 0
      pfxRcd: 0
      pfxSnt: 0
      remoteAs: 65000
      state: Active
      tableVersion: 0
      version: 4
    2001:db8:1:3::1:
      connectionsDropped: 0
      connectionsEstablished: 1
      desc: r2
      hostname: r2
      idType: ipv6
      inq: 0
      localAs: 65000
      msgRcvd: 12
      msgSent: 14
      outq: 0
      peerState: OK
      peerUptime: 00:00:27
      peerUptimeEstablishedEpoch: 1714505178
      peerUptimeMsec: 27000
      pfxRcd: 1
      pfxSnt: 4
      remoteAs: 65000
      state: Established
      tableVersion: 4
      version: 4
    2001:db8:1:a::1:
      connectionsDropped: 0
      connectionsEstablished: 1
      desc: r1
      hostname: r1
      idType: ipv6
      inq: 0
      localAs: 65000
      msgRcvd: 12
      msgSent: 14
      outq: 0
      peerState: OK
      peerUptime: 00:00:27
      peerUptimeEstablishedEpoch: 1714505178
      peerUptimeMsec: 27000
      pfxRcd: 2
      pfxSnt: 4
      remoteAs: 65000
      state: Established
      tableVersion: 4
      version: 4
  ribCount: 7
  ribMemory: 672
  routerId: 10.0.0.2
  tableVersion: 4
  totalPeers: 3
  vrfId: 0
  vrfName: default


[prefix]  Check whether DUT1 propagates the external beacon prefix [ node(s): r1,r2,rr2 ]
[WAITING] Wait for BGP convergence (retrying for 5 seconds)
[FAIL]    r1: The router does not have 2001:db8:cafe:e::1/64 in its BGP table
Returned result
================================================================================
{}

[FAIL]    r2: The router does not have 2001:db8:cafe:e::1/64 in its BGP table
Returned result
================================================================================
{}

[FAIL]    rr2: The router does not have 2001:db8:cafe:e::1/64 in its BGP table
Returned result
================================================================================
{}


[nhs]     Check next-hop handling on DUT [ node(s): r1,r2 ]
[WAITING] Wait for BGP convergence (retrying for 5 seconds)
[FAIL]    r1: The router does not have 2001:db8:cafe:e::1/64 in its BGP table
Returned result
================================================================================
{}

[FAIL]    r2: The router does not have 2001:db8:cafe:e::1/64 in its BGP table
Returned result
================================================================================
{}


[reflect] Check route reflection on DUT [ node(s): r2 ]
[WAITING] Wait for BGP convergence (retrying for 5 seconds)
[FAIL]    r2: Peer 10.0.0.1 does not advertise the BGP prefix 2001:db8:cafe:1::/64
Returned result
================================================================================
paths: []
prefix: 2001:db8:cafe:1::/64
version: 4


[inact]   Check route reflection of inactive routes on DUT [ node(s): r2 ]
[FAIL]    r2: Peer 10.0.0.1 does not advertise the BGP prefix 2001:db8:1:a::/64
Returned result
================================================================================
paths: []
prefix: 2001:db8:1:a::/64
version: 3


[nhu]     Check next-hop handling of reflected routes [ node(s): r2 ]
[FAIL]    r2: Peer 10.0.0.1 does not advertise the BGP prefix 2001:db8:cafe:1::/64
Returned result
================================================================================
paths: []
prefix: 2001:db8:cafe:1::/64
version: 4


[cluster] Check cluster-id attribute in the BGP update from RR [ node(s): r2 ]
[FAIL]    r2: Peer 10.0.0.1 does not advertise the BGP prefix 2001:db8:cafe:1::/64
Returned result
================================================================================
paths: []
prefix: 2001:db8:cafe:1::/64
version: 4


[FAIL]    Tests completed, validation failed
