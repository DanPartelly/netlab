[ospf_adj_dut] Check OSPF adjacencies with DUT [ node(s): r1 ]
[PASS]         Validation succeeded on r1
[PASS]         Test succeeded

[ospf_adj_r1]  Check OSPF adjacencies with R1 [ node(s): r2,rr2 ]
[WAITING]      Waiting for OSPF adjacency process to complete (retrying for 10 seconds)
[PASS]         Validation succeeded on r2
[PASS]         Validation succeeded on rr2
[PASS]         Succeeded in 9.6 seconds
[PASS]         Test succeeded

[session]      Check BGP sessions with DUT [ node(s): r1,r2,rr2,x1 ]
[PASS]         r1: Neighbor 10.0.0.1 (dut) is in state Established
[PASS]         x1: Neighbor 10.1.0.13 (dut) is in state Established
[WAITING]      Wait for BGP sessions to be established (retrying for 30 seconds)
[PASS]         r2: Neighbor 10.0.0.1 (dut) is in state Established
[PASS]         rr2: Neighbor 10.0.0.1 (dut) is in state Established
[PASS]         Succeeded in 11.0 seconds
[PASS]         Test succeeded

[prefix]       Check whether DUT1 propagates the external beacon prefix [ node(s): r1,r2,rr2 ]
[PASS]         r1: The prefix 172.42.42.0/24 is in the BGP table
[PASS]         r2: The prefix 172.42.42.0/24 is in the BGP table
[WAITING]      Wait for BGP convergence (retrying for 5 seconds)
[PASS]         rr2: The prefix 172.42.42.0/24 is in the BGP table
[PASS]         Succeeded in 1.4 seconds
[PASS]         Test succeeded

[nhs]          Check next-hop handling on DUT [ node(s): r1,r2 ]
[WAITING]      Wait for BGP convergence (retrying for 5 seconds)
[FAIL]         r1: The next hop(s) for prefix 172.42.42.0/24 is/are 10.1.0.14,10.1.0.14, not 10.0.0.1
Returned result
================================================================================
paths:
- aspath:
    length: 1
    segments:
    - list:
      - 65101
      type: as-sequence
    string: '65101'
  clusterList:
    list:
    - 10.0.0.43
  lastUpdate:
    epoch: 1715150572
    string: 'Wed May  8 06:42:52 2024

      '
  locPrf: 100
  metric: 0
  nexthops:
  - accessible: true
    afi: ipv4
    hostname: rr2
    ip: 10.1.0.14
    metric: 0
    used: true
  origin: IGP
  originatorId: 10.0.0.1
  peer:
    hostname: rr2
    peerId: 10.0.0.2
    routerId: 10.0.0.2
    type: internal
  valid: true
  version: 5
- aspath:
    length: 1
    segments:
    - list:
      - 65101
      type: as-sequence
    string: '65101'
  bestpath:
    bestpathFromAs: 65101
    overall: true
    selectionReason: Cluster length
  lastUpdate:
    epoch: 1715150560
    string: 'Wed May  8 06:42:40 2024

      '
  locPrf: 100
  metric: 0
  nexthops:
  - accessible: true
    afi: ipv4
    ip: 10.1.0.14
    metric: 0
    used: true
  origin: IGP
  peer:
    peerId: 10.0.0.1
    routerId: 10.0.0.1
    type: internal
  valid: true
  version: 5
prefix: 172.42.42.0/24
version: 5

[FAIL]         r2: The next hop(s) for prefix 172.42.42.0/24 is/are 10.1.0.14,10.1.0.14, not 10.0.0.1
Returned result
================================================================================
paths:
- aspath:
    length: 1
    segments:
    - list:
      - 65101
      type: as-sequence
    string: '65101'
  clusterList:
    list:
    - 10.0.0.43
  lastUpdate:
    epoch: 1715150572
    string: 'Wed May  8 06:42:52 2024

      '
  locPrf: 100
  metric: 0
  nexthops:
  - accessible: true
    afi: ipv4
    hostname: rr2
    ip: 10.1.0.14
    metric: 0
    used: true
  origin: IGP
  originatorId: 10.0.0.1
  peer:
    hostname: rr2
    peerId: 10.0.0.2
    routerId: 10.0.0.2
    type: internal
  valid: true
  version: 9
- aspath:
    length: 1
    segments:
    - list:
      - 65101
      type: as-sequence
    string: '65101'
  bestpath:
    bestpathFromAs: 65101
    overall: true
    selectionReason: Cluster length
  lastUpdate:
    epoch: 1715150571
    string: 'Wed May  8 06:42:51 2024

      '
  locPrf: 100
  metric: 0
  nexthops:
  - accessible: true
    afi: ipv4
    ip: 10.1.0.14
    metric: 0
    used: true
  origin: IGP
  peer:
    peerId: 10.0.0.1
    routerId: 10.0.0.1
    type: internal
  valid: true
  version: 9
prefix: 172.42.42.0/24
version: 9


[reflect]      Check route reflection on DUT [ node(s): r2 ]
[PASS]         r2: The prefix 172.0.42.0/24 is in the BGP table
[PASS]         Test succeeded

[inact]        Check route reflection of inactive routes on DUT [ node(s): r2 ]
[PASS]         r2: The prefix 10.0.0.10/32 is in the BGP table
[PASS]         Test succeeded

[nhu]          Check next-hop handling of reflected routes [ node(s): r2 ]
[PASS]         r2: One of the next hops for prefix 172.0.42.0/24 is 10.0.0.10
[PASS]         Test succeeded

[cluster]      Check cluster-id attribute in the BGP update from RR [ node(s): r2 ]
[PASS]         r2: Cluster ID 10.0.0.42 found in at least one path for prefix 172.0.42.0/24
[PASS]         Test succeeded

[FAIL]         Tests completed, validation failed
