[red_adj]     Check OSPF adjacencies in red VRF [ node(s): r1 ]
[PASS]        Validation succeeded on r1
[PASS]        Test succeeded

[blue_adj]    Check OSPF adjacencies in blue VRF [ node(s): r3 ]
[PASS]        Validation succeeded on r3
[PASS]        Test succeeded

[ebgp]        Check EBGP adjacencies with DUT [ node(s): r2,r4 ]
[PASS]        r2: Neighbor 2001:db8:3:1::1 (dut) is in state Established
[PASS]        r4: Neighbor 2001:db8:3:3::1 (dut) is in state Established
[PASS]        Test succeeded

[red_route]   Check OSPF routes in red VRF [ node(s): r1 ]
[FAIL]        r1: The prefix 2001:db8:1:3::/64 is not in the OSPFv3 topology
Returned result
================================================================================
routes:
  2001:db8:1:2::/64:
    associatedArea: 0.0.0.0
    changedTimeSince: 00:00:20
    destinationType: Network
    flags: BA--
    installedTimeSince: 00:00:20
    lsAdvertisingRouter: 10.0.0.2
    lsId: 0.0.0.0
    lsOriginRoutePathType: Intra-Prefix
    metricCost: 0
    metricCostE2: 0
    metricType: 1
    nextHopCount: 1
    nextHops:
    - interfaceName: lo
      nextHop: '::'
    numberOfLock: 2
    options: --|-|--|-|-|--|-|-|--|-|--
    pathType: Intra-Area
    pathsCount: 1
    prefixOptions: --|--|--|--|--
    routerBits: '--------'
  2001:db8:3::/64:
    associatedArea: 0.0.0.0
    changedTimeSince: 00:00:10
    destinationType: Network
    flags: -A--
    installedTimeSince: 00:00:10
    lsAdvertisingRouter: 10.0.0.1
    lsId: 0.0.0.0
    lsOriginRoutePathType: Intra-Prefix
    metricCost: 26
    metricCostE2: 0
    metricType: 1
    nextHopCount: 1
    nextHops:
    - interfaceName: eth1
      nextHop: fe80::1869:ff:feff:1
    numberOfLock: 2
    options: --|-|--|-|-|--|-|-|--|-|--
    pathType: Intra-Area
    pathsCount: 1
    prefixOptions: --|--|--|--|--
    routerBits: '--------'


[blue_route]  Check OSPF routes in blue VRF [ node(s): r3 ]
[FAIL]        r3: The prefix 2001:db8:1:5::/64 is not in the OSPFv3 topology
Returned result
================================================================================
routes:
  2001:db8:1:4::/64:
    associatedArea: 0.0.0.0
    changedTimeSince: 00:00:25
    destinationType: Network
    flags: BA--
    installedTimeSince: 00:00:25
    lsAdvertisingRouter: 10.0.0.4
    lsId: 0.0.0.0
    lsOriginRoutePathType: Intra-Prefix
    metricCost: 0
    metricCostE2: 0
    metricType: 1
    nextHopCount: 1
    nextHops:
    - interfaceName: lo
      nextHop: '::'
    numberOfLock: 2
    options: --|-|--|-|-|--|-|-|--|-|--
    pathType: Intra-Area
    pathsCount: 1
    prefixOptions: --|--|--|--|--
    routerBits: '--------'
  2001:db8:3:2::/64:
    associatedArea: 0.0.0.0
    changedTimeSince: 00:00:15
    destinationType: Network
    flags: -A--
    installedTimeSince: 00:00:15
    lsAdvertisingRouter: 10.0.0.1
    lsId: 0.0.0.0
    lsOriginRoutePathType: Intra-Prefix
    metricCost: 26
    metricCostE2: 0
    metricType: 1
    nextHopCount: 1
    nextHops:
    - interfaceName: eth1
      nextHop: fe80::1869:ff:feff:3
    numberOfLock: 2
    options: --|-|--|-|-|--|-|-|--|-|--
    pathType: Intra-Area
    pathsCount: 1
    prefixOptions: --|--|--|--|--
    routerBits: '--------'


[red_lb_ping] Loopback-to-loopback reachability test in VRF red [ node(s): r1 ]
[WAITING]     Waiting for BGP and OSPFv3 to start (retrying for 20 seconds)
[WAITING]     Waiting for BGP and OSPFv3 to start (4 seconds left)
[FAIL]        r1: Ping to ipv6 r2 from 2001:db8:1:2::1/64 failed
Returned result
================================================================================
stdout: 'PING r2 (2001:db8:1:3::1) from 2001:db8:1:2::1: 56 data bytes

  ping: sendto: Network unreachable

  '


[red_c_ospf]  Check for connected routes in OSPFv3 [ node(s): r2 ]
[FAIL]        r2: Ping to ipv6 r1 failed
Returned result
================================================================================
stdout: 'PING r1 (2001:db8:1:2::1): 56 data bytes


  --- r1 ping statistics ---

  5 packets transmitted, 0 packets received, 100% packet loss

  '


[red_c_bgp]   Check for connected routes in BGP [ node(s): r1 ]
[FAIL]        r1: Ping to ipv6 r2 failed
Returned result
================================================================================
stdout: 'PING r2 (2001:db8:1:3::1): 56 data bytes

  ping: sendto: Network unreachable

  '


[ping_blue]   Ping-based reachability test in VRF blue [ node(s): r4 ]
[WAITING]     Wait for route redistribution convergence (retrying for 10 seconds)
[FAIL]        r4: Ping to ipv6 r3 failed
Returned result
================================================================================
stdout: 'PING r3 (2001:db8:1:4::1): 56 data bytes


  --- r3 ping statistics ---

  5 packets transmitted, 0 packets received, 100% packet loss

  '


[inter_vrf]   Ping-based isolation test between blue and red VRF [ node(s): r1 ]
[PASS]        r1: Ping to ipv6 r4 from 2001:db8:1:2::1/64 failed as expected
[PASS]        Test succeeded

[FAIL]        Tests completed, validation failed
