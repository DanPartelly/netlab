addressing.lan:
  ipv4: false
  ipv6: 2001:db8:cafe::/48

nodes:
  client:
  server:
    module: [ dhcp ]
    device: eos
    dhcp.server: true
    provider: clab

links:
- client:
    ipv6: dhcp
  server:

validate:
  wait:
    description: Wait a bit for DHCPv6 client and server
    wait: 5
  lease:
    description: Check for DHCPv6 server lease
    nodes: [ server ]
    pass: The DHCP server has an active IPv6 lease
    fail: There are no IPv6 leases on the DHCP server
    show:
      eos: "dhcp server leases | json"
    valid:
      eos: vrfs.default.ipv6ActiveLeases

message: |
  Use this topology to test the DHCPv6 client on your device. Use 'netlab
  validate' to report check whether your device requested a DHCPv6 lease on the
  DHCPv6 server.
