[ebgp]         Check EBGP sessions with DUT (wait up to 10 seconds) [ node(s): probe,x1 ]
[PASS]         probe: Neighbor 172.16.0.1 (dut) is in state Established
[PASS]         x1: Neighbor 172.16.1.1 (dut) is in state Established
[PASS]         Test succeeded

[pfx_lb]       Check for X1 loopback prefix on Probe [ node(s): probe ]
[PASS]         probe: The prefix 10.0.0.3/32 is in the BGP table
[PASS]         Test succeeded

[comm_present] Check for AS65101 communities attached to X1 loopback prefix [ node(s): probe ]
[FAIL]         probe: community community 65101:17 is not attached to 10.0.0.3/32
Returned result
================================================================================
advertisedTo:
  172.16.0.1:
    hostname: dut
paths:
- aspath:
    length: 2
    segments:
    - list:
      - 65000
      - 65101
      type: as-sequence
    string: 65000 65101
  bestpath:
    bestpathFromAs: 65000
    overall: true
    selectionReason: First path received
  community:
    list:
    - '65101:42'
    string: '65101:42'
  lastUpdate:
    epoch: 1721834825
    string: 'Wed Jul 24 15:27:05 2024

      '
  nexthops:
  - accessible: true
    afi: ipv4
    hostname: dut
    ip: 172.16.0.1
    metric: 0
    used: true
  origin: IGP
  peer:
    hostname: dut
    peerId: 172.16.0.1
    routerId: 10.0.0.1
    type: external
  valid: true
  version: 5
prefix: 10.0.0.3/32
version: 5


[comm_missing] Check for AS65101 communities removed from X1 loopback prefix [ node(s): probe ]
[FAIL]         probe: community 65101:42 should not be attached to 10.0.0.3/32
Returned result
================================================================================
advertisedTo:
  172.16.0.1:
    hostname: dut
paths:
- aspath:
    length: 2
    segments:
    - list:
      - 65000
      - 65101
      type: as-sequence
    string: 65000 65101
  bestpath:
    bestpathFromAs: 65000
    overall: true
    selectionReason: First path received
  community:
    list:
    - '65101:42'
    string: '65101:42'
  lastUpdate:
    epoch: 1721834825
    string: 'Wed Jul 24 15:27:05 2024

      '
  nexthops:
  - accessible: true
    afi: ipv4
    hostname: dut
    ip: 172.16.0.1
    metric: 0
    used: true
  origin: IGP
  peer:
    hostname: dut
    peerId: 172.16.0.1
    routerId: 10.0.0.1
    type: external
  valid: true
  version: 5
prefix: 10.0.0.3/32
version: 5


[FAIL]         Tests completed, validation failed
