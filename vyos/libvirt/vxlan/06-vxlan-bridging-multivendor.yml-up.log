Bringing machine 's3' up with 'libvirt' provider...
Bringing machine 'h1' up with 'libvirt' provider...
Bringing machine 'h2' up with 'libvirt' provider...
Bringing machine 'h3' up with 'libvirt' provider...
Bringing machine 'h4' up with 'libvirt' provider...
Bringing machine 'h5' up with 'libvirt' provider...
Bringing machine 'h6' up with 'libvirt' provider...
Bringing machine 's1' up with 'libvirt' provider...
Bringing machine 's2' up with 'libvirt' provider...
==> h3: Checking if box 'generic/ubuntu2004' version '4.3.8' is up to date...
==> h2: Checking if box 'generic/ubuntu2004' version '4.3.8' is up to date...
==> h6: Checking if box 'generic/ubuntu2004' version '4.3.8' is up to date...
==> s2: Checking if box 'vyos/current' version '20240403.00.18' is up to date...
==> s3: Checking if box 'CumulusCommunity/cumulus-vx' version '4.4.0' is up to date...
==> h4: Checking if box 'generic/ubuntu2004' version '4.3.8' is up to date...
==> h1: Checking if box 'generic/ubuntu2004' version '4.3.8' is up to date...
==> h5: Checking if box 'generic/ubuntu2004' version '4.3.8' is up to date...
==> s1: Checking if box 'vyos/current' version '20240403.00.18' is up to date...
==> h3: Creating image (snapshot of base box volume).
==> h1: Creating image (snapshot of base box volume).
==> h3: Creating domain with the following settings...
==> h5: Creating image (snapshot of base box volume).
==> h6: Creating image (snapshot of base box volume).
==> h3:  -- Name:              ml_17_h3
==> h4: Creating image (snapshot of base box volume).
==> s2: Creating image (snapshot of base box volume).
==> s2: Creating domain with the following settings...
==> s2:  -- Name:              ml_17_s2
==> s2:  -- Description:       Source: /tmp/netlab_cicd/Vagrantfile
==> s2:  -- Domain type:       kvm
==> s2:  -- Cpus:              2
==> s2:  -- Feature:           acpi
==> s2:  -- Feature:           apic
==> h4: Creating domain with the following settings...
==> h4:  -- Name:              ml_17_h4
==> s2:  -- Feature:           pae
==> h6: Creating domain with the following settings...
==> h3:  -- Description:       Source: /tmp/netlab_cicd/Vagrantfile
==> h3:  -- Domain type:       kvm
==> h2: Creating image (snapshot of base box volume).
==> s1: Creating image (snapshot of base box volume).
==> h2: Creating domain with the following settings...
==> s2:  -- Clock offset:      utc
==> h1: Creating domain with the following settings...
==> h1:  -- Name:              ml_17_h1
==> h1:  -- Description:       Source: /tmp/netlab_cicd/Vagrantfile
==> h1:  -- Domain type:       kvm
==> h3:  -- Cpus:              1
==> h4:  -- Description:       Source: /tmp/netlab_cicd/Vagrantfile
==> h3:  -- Feature:           acpi
==> s1: Creating domain with the following settings...
==> h6:  -- Name:              ml_17_h6
==> h6:  -- Description:       Source: /tmp/netlab_cicd/Vagrantfile
==> h6:  -- Domain type:       kvm
==> s2:  -- Memory:            1024M
==> h3:  -- Feature:           apic
==> h2:  -- Name:              ml_17_h2
==> h3:  -- Feature:           pae
==> h4:  -- Domain type:       kvm
==> s2:  -- Management MAC:    08:4f:a9:00:00:09
==> h5: Creating domain with the following settings...
==> s2:  -- Base box:          vyos/current
==> h6:  -- Cpus:              1
==> s1:  -- Name:              ml_17_s1
==> h2:  -- Description:       Source: /tmp/netlab_cicd/Vagrantfile
==> h3:  -- Clock offset:      utc
==> h4:  -- Cpus:              1
==> h1:  -- Cpus:              1
==> h5:  -- Name:              ml_17_h5
==> s2:  -- Storage pool:      default
==> h6:  -- Feature:           acpi
==> s2:  -- Image(vda):        /var/lib/libvirt/images/ml_17_s2.img, virtio, 10G
==> h5:  -- Description:       Source: /tmp/netlab_cicd/Vagrantfile
==> s1:  -- Description:       Source: /tmp/netlab_cicd/Vagrantfile
==> h4:  -- Feature:           acpi
==> h6:  -- Feature:           apic
==> h2:  -- Domain type:       kvm
==> h3:  -- Memory:            1024M
==> h3:  -- Management MAC:    08:4f:a9:00:00:04
==> s2:  -- Disk driver opts:  cache='default'
==> h1:  -- Feature:           acpi
==> s1:  -- Domain type:       kvm
==> h4:  -- Feature:           apic
==> h6:  -- Feature:           pae
==> h2:  -- Cpus:              1
==> h5:  -- Domain type:       kvm
==> h2:  -- Feature:           acpi
==> h5:  -- Cpus:              1
==> h3:  -- Base box:          generic/ubuntu2004
==> h5:  -- Feature:           acpi
==> h4:  -- Feature:           pae
==> h6:  -- Clock offset:      utc
==> h4:  -- Clock offset:      utc
==> s2:  -- Graphics Type:     vnc
==> h2:  -- Feature:           apic
==> s1:  -- Cpus:              2
==> h3:  -- Storage pool:      default
==> h5:  -- Feature:           apic
==> h3:  -- Image(vda):        /var/lib/libvirt/images/ml_17_h3.img, virtio, 128G
==> h6:  -- Memory:            1024M
==> h4:  -- Memory:            1024M
==> s2:  -- Video Type:        cirrus
==> h4:  -- Management MAC:    08:4f:a9:00:00:05
==> s1:  -- Feature:           acpi
==> h1:  -- Feature:           apic
==> s1:  -- Feature:           apic
==> h1:  -- Feature:           pae
==> h6:  -- Management MAC:    08:4f:a9:00:00:07
==> h6:  -- Base box:          generic/ubuntu2004
==> s2:  -- Video VRAM:        16384
==> h1:  -- Clock offset:      utc
==> h5:  -- Feature:           pae
==> h3:  -- Disk driver opts:  cache='default'
==> h2:  -- Feature:           pae
==> h5:  -- Clock offset:      utc
==> h4:  -- Base box:          generic/ubuntu2004
==> h6:  -- Storage pool:      default
==> s2:  -- Video 3D accel:    false
==> h1:  -- Memory:            1024M
==> h1:  -- Management MAC:    08:4f:a9:00:00:02
==> s1:  -- Feature:           pae
==> h5:  -- Memory:            1024M
==> h2:  -- Clock offset:      utc
==> h4:  -- Storage pool:      default
==> h6:  -- Image(vda):        /var/lib/libvirt/images/ml_17_h6.img, virtio, 128G
==> s2:  -- Keymap:            en-us
==> h3:  -- Graphics Type:     vnc
==> h1:  -- Base box:          generic/ubuntu2004
==> h3:  -- Video Type:        cirrus
==> h1:  -- Storage pool:      default
==> h2:  -- Memory:            1024M
==> h4:  -- Image(vda):        /var/lib/libvirt/images/ml_17_h4.img, virtio, 128G
==> h6:  -- Disk driver opts:  cache='default'
==> s2:  -- TPM Backend:       passthrough
==> s1:  -- Clock offset:      utc
==> h6:  -- Graphics Type:     vnc
==> h3:  -- Video VRAM:        256
==> h1:  -- Image(vda):        /var/lib/libvirt/images/ml_17_h1.img, virtio, 128G
==> h2:  -- Management MAC:    08:4f:a9:00:00:03
==> h4:  -- Disk driver opts:  cache='default'
==> s2:  -- INPUT:             type=mouse, bus=ps2
==> h5:  -- Management MAC:    08:4f:a9:00:00:06
==> s1:  -- Memory:            1024M
==> s1:  -- Management MAC:    08:4f:a9:00:00:08
==> h3:  -- Video 3D accel:    false
==> h5:  -- Base box:          generic/ubuntu2004
==> h2:  -- Base box:          generic/ubuntu2004
==> h1:  -- Disk driver opts:  cache='default'
==> h6:  -- Video Type:        cirrus
==> h1:  -- Graphics Type:     vnc
==> h6:  -- Video VRAM:        256
==> h1:  -- Video Type:        cirrus
==> h4:  -- Graphics Type:     vnc
==> h4:  -- Video Type:        cirrus
==> h4:  -- Video VRAM:        256
==> h4:  -- Video 3D accel:    false
==> h3:  -- Keymap:            en-us
==> h6:  -- Video 3D accel:    false
==> h6:  -- Keymap:            en-us
==> h2:  -- Storage pool:      default
==> h1:  -- Video VRAM:        256
==> h2:  -- Image(vda):        /var/lib/libvirt/images/ml_17_h2.img, virtio, 128G
==> s1:  -- Base box:          vyos/current
==> h1:  -- Video 3D accel:    false
==> h3:  -- TPM Backend:       passthrough
==> h6:  -- TPM Backend:       passthrough
==> h1:  -- Keymap:            en-us
==> h3:  -- INPUT:             type=mouse, bus=ps2
==> h2:  -- Disk driver opts:  cache='default'
==> s1:  -- Storage pool:      default
==> s1:  -- Image(vda):        /var/lib/libvirt/images/ml_17_s1.img, virtio, 10G
==> h5:  -- Storage pool:      default
==> h6:  -- INPUT:             type=mouse, bus=ps2
==> h1:  -- TPM Backend:       passthrough
==> h2:  -- Graphics Type:     vnc
==> s1:  -- Disk driver opts:  cache='default'
==> h5:  -- Image(vda):        /var/lib/libvirt/images/ml_17_h5.img, virtio, 128G
==> s1:  -- Graphics Type:     vnc
==> h4:  -- Keymap:            en-us
==> h1:  -- INPUT:             type=mouse, bus=ps2
==> h5:  -- Disk driver opts:  cache='default'
==> s1:  -- Video Type:        cirrus
==> s1:  -- Video VRAM:        16384
==> s1:  -- Video 3D accel:    false
==> h4:  -- TPM Backend:       passthrough
==> h2:  -- Video Type:        cirrus
==> h5:  -- Graphics Type:     vnc
==> h2:  -- Video VRAM:        256
==> h2:  -- Video 3D accel:    false
==> s1:  -- Keymap:            en-us
==> h5:  -- Video Type:        cirrus
==> s1:  -- TPM Backend:       passthrough
==> s1:  -- INPUT:             type=mouse, bus=ps2
==> h4:  -- INPUT:             type=mouse, bus=ps2
==> h5:  -- Video VRAM:        256
==> h5:  -- Video 3D accel:    false
==> h5:  -- Keymap:            en-us
==> h5:  -- TPM Backend:       passthrough
==> h2:  -- Keymap:            en-us
==> s2: Creating shared folders metadata...
==> h5:  -- INPUT:             type=mouse, bus=ps2
==> h3: Creating shared folders metadata...
==> h1: Creating shared folders metadata...
==> h1: Starting domain.
==> h2:  -- TPM Backend:       passthrough
==> h3: Starting domain.
==> s2: Starting domain.
==> h1: Domain launching with graphics connection settings...
==> h2:  -- INPUT:             type=mouse, bus=ps2
==> h3: Domain launching with graphics connection settings...
==> s2: Domain launching with graphics connection settings...
==> s3: Creating image (snapshot of base box volume).
==> h3:  -- Graphics Port:      5901
==> h1:  -- Graphics Port:      5900
==> s2:  -- Graphics Port:      5902
==> s3: Creating domain with the following settings...
==> h3:  -- Graphics IP:        127.0.0.1
==> h1:  -- Graphics IP:        127.0.0.1
==> h1:  -- Graphics Password:  Not defined
==> h1:  -- Graphics Websocket: 5700
==> h3:  -- Graphics Password:  Not defined
==> s2:  -- Graphics IP:        127.0.0.1
==> s3:  -- Name:              ml_17_s3
==> s2:  -- Graphics Password:  Not defined
==> h1: Waiting for domain to get an IP address...
==> s2:  -- Graphics Websocket: 5702
==> s3:  -- Description:       Source: /tmp/netlab_cicd/Vagrantfile
==> h3:  -- Graphics Websocket: 5701
==> s3:  -- Domain type:       kvm
==> h3: Waiting for domain to get an IP address...
==> s2: Waiting for domain to get an IP address...
==> s3:  -- Cpus:              2
==> s3:  -- Feature:           acpi
==> s3:  -- Feature:           apic
==> s3:  -- Feature:           pae
==> s3:  -- Clock offset:      utc
==> s3:  -- Memory:            1024M
==> s3:  -- Management MAC:    08:4f:a9:00:00:01
==> s3:  -- Base box:          CumulusCommunity/cumulus-vx
==> s3:  -- Storage pool:      default
==> s3:  -- Image(vda):        /var/lib/libvirt/images/ml_17_s3.img, virtio, 6G
==> s3:  -- Disk driver opts:  cache='default'
==> s3:  -- Graphics Type:     vnc
==> s3:  -- Video Type:        cirrus
==> s3:  -- Video VRAM:        16384
==> s3:  -- Video 3D accel:    false
==> s3:  -- Keymap:            en-us
==> s3:  -- TPM Backend:       passthrough
==> s3:  -- INPUT:             type=mouse, bus=ps2
==> h6: Creating shared folders metadata...
==> h6: Starting domain.
==> h6: Domain launching with graphics connection settings...
==> h6:  -- Graphics Port:      5903
==> h6:  -- Graphics IP:        127.0.0.1
==> h6:  -- Graphics Password:  Not defined
==> h6:  -- Graphics Websocket: 5703
==> h6: Waiting for domain to get an IP address...
==> s3: Creating shared folders metadata...
==> s3: Starting domain.
==> s3: Domain launching with graphics connection settings...
==> s3:  -- Graphics Port:      5904
==> s3:  -- Graphics IP:        127.0.0.1
==> s3:  -- Graphics Password:  Not defined
==> s3:  -- Graphics Websocket: 5704
==> s3: Waiting for domain to get an IP address...
==> h4: Creating shared folders metadata...
==> h4: Starting domain.
==> h4: Domain launching with graphics connection settings...
==> h4:  -- Graphics Port:      5905
==> h4:  -- Graphics IP:        127.0.0.1
==> h4:  -- Graphics Password:  Not defined
==> h4:  -- Graphics Websocket: 5705
==> h4: Waiting for domain to get an IP address...
==> h2: Creating shared folders metadata...
==> h2: Starting domain.
==> h2: Domain launching with graphics connection settings...
==> h2:  -- Graphics Port:      5906
==> h2:  -- Graphics IP:        127.0.0.1
==> h2:  -- Graphics Password:  Not defined
==> h2:  -- Graphics Websocket: 5706
==> h2: Waiting for domain to get an IP address...
==> s1: Creating shared folders metadata...
==> h1: Waiting for machine to boot. This may take a few minutes...
==> s1: Starting domain.
==> s1: Domain launching with graphics connection settings...
==> s1:  -- Graphics Port:      5907
==> s1:  -- Graphics IP:        127.0.0.1
==> s1:  -- Graphics Password:  Not defined
==> s1:  -- Graphics Websocket: 5707
==> s1: Waiting for domain to get an IP address...
==> h5: Creating shared folders metadata...
==> h5: Starting domain.
==> h3: Waiting for machine to boot. This may take a few minutes...
==> h5: Domain launching with graphics connection settings...
==> h5:  -- Graphics Port:      5908
==> h5:  -- Graphics IP:        127.0.0.1
==> h5:  -- Graphics Password:  Not defined
==> h5:  -- Graphics Websocket: 5708
    h1: SSH address: 192.168.17.102:22
==> h5: Waiting for domain to get an IP address...
    h1: SSH username: vagrant
    h3: SSH address: 192.168.17.104:22
    h1: SSH auth method: private key
    h3: SSH username: vagrant
    h3: SSH auth method: private key
    h1: Warning: Connection refused. Retrying...
    h3: Warning: Connection refused. Retrying...
==> h6: Waiting for machine to boot. This may take a few minutes...
    h6: SSH address: 192.168.17.107:22
    h6: SSH username: vagrant
    h6: SSH auth method: private key
    h6: Warning: Connection refused. Retrying...
==> h4: Waiting for machine to boot. This may take a few minutes...
    h4: SSH address: 192.168.17.105:22
    h4: SSH username: vagrant
    h4: SSH auth method: private key
    h3: 
    h3: Vagrant insecure key detected. Vagrant will automatically replace
    h3: this with a newly generated keypair for better security.
    h4: Warning: Connection refused. Retrying...
==> h2: Waiting for machine to boot. This may take a few minutes...
    h2: SSH address: 192.168.17.103:22
    h2: SSH username: vagrant
    h2: SSH auth method: private key
    h2: Warning: Connection refused. Retrying...
    h1: 
    h1: Vagrant insecure key detected. Vagrant will automatically replace
    h1: this with a newly generated keypair for better security.
    h6: 
    h6: Vagrant insecure key detected. Vagrant will automatically replace
    h6: this with a newly generated keypair for better security.
==> h5: Waiting for machine to boot. This may take a few minutes...
    h5: SSH address: 192.168.17.106:22
    h5: SSH username: vagrant
    h5: SSH auth method: private key
    h5: Warning: Connection refused. Retrying...
    h3: 
    h3: Inserting generated public key within guest...
    h1: 
    h1: Inserting generated public key within guest...
    h3: Removing insecure key from the guest if it's present...
    h6: 
    h6: Inserting generated public key within guest...
    h4: 
    h4: Vagrant insecure key detected. Vagrant will automatically replace
    h4: this with a newly generated keypair for better security.
    h1: Removing insecure key from the guest if it's present...
    h3: Key inserted! Disconnecting and reconnecting using new SSH key...
    h2: 
    h2: Vagrant insecure key detected. Vagrant will automatically replace
    h2: this with a newly generated keypair for better security.
    h6: Removing insecure key from the guest if it's present...
    h1: Key inserted! Disconnecting and reconnecting using new SSH key...
    h6: Key inserted! Disconnecting and reconnecting using new SSH key...
    h4: 
    h4: Inserting generated public key within guest...
    h2: 
    h2: Inserting generated public key within guest...
    h4: Removing insecure key from the guest if it's present...
==> h3: Machine booted and ready!
==> h1: Machine booted and ready!
==> h6: Machine booted and ready!
    h2: Removing insecure key from the guest if it's present...
    h4: Key inserted! Disconnecting and reconnecting using new SSH key...
    h2: Key inserted! Disconnecting and reconnecting using new SSH key...
    h5: 
    h5: Vagrant insecure key detected. Vagrant will automatically replace
    h5: this with a newly generated keypair for better security.
==> h4: Machine booted and ready!
    h5: 
    h5: Inserting generated public key within guest...
    h5: Removing insecure key from the guest if it's present...
    h5: Key inserted! Disconnecting and reconnecting using new SSH key...
==> h2: Machine booted and ready!
==> h5: Machine booted and ready!
==> s3: Waiting for machine to boot. This may take a few minutes...
    s3: SSH address: 192.168.17.101:22
    s3: SSH username: vagrant
    s3: SSH auth method: private key
    s3: 
    s3: Vagrant insecure key detected. Vagrant will automatically replace
    s3: this with a newly generated keypair for better security.
    s3: 
    s3: Inserting generated public key within guest...
    s3: Removing insecure key from the guest if it's present...
    s3: Key inserted! Disconnecting and reconnecting using new SSH key...
==> s3: Machine booted and ready!
==> s2: Waiting for machine to boot. This may take a few minutes...
    s2: SSH address: 192.168.17.109:22
    s2: SSH username: vyos
    s2: SSH auth method: private key
    s2: 
    s2: Vagrant insecure key detected. Vagrant will automatically replace
    s2: this with a newly generated keypair for better security.
    s2: 
    s2: Inserting generated public key within guest...
    s2: Removing insecure key from the guest if it's present...
    s2: Key inserted! Disconnecting and reconnecting using new SSH key...
==> s2: Machine booted and ready!
==> s1: Waiting for machine to boot. This may take a few minutes...
    s1: SSH address: 192.168.17.108:22
    s1: SSH username: vyos
    s1: SSH auth method: private key
    s1: Warning: Connection refused. Retrying...
    s1: 
    s1: Vagrant insecure key detected. Vagrant will automatically replace
    s1: this with a newly generated keypair for better security.
    s1: 
    s1: Inserting generated public key within guest...
    s1: Removing insecure key from the guest if it's present...
    s1: Key inserted! Disconnecting and reconnecting using new SSH key...
==> s1: Machine booted and ready!

==> s1: Machine 's1' has a post `vagrant up` message. This is a message
==> s1: from the creator of the Vagrantfile, and not from Vagrant itself:
==> s1: 
==> s1: VyOS box. See https://app.vagrantup.com/vyos for help and bug reports

==> s2: Machine 's2' has a post `vagrant up` message. This is a message
==> s2: from the creator of the Vagrantfile, and not from Vagrant itself:
==> s2: 
==> s2: VyOS box. See https://app.vagrantup.com/vyos for help and bug reports
Using transformed lab topology from snapshot file netlab.snapshot.yml
Checking virtualization provider installation
OK: libvirt installed and working correctly
Starting libvirt nodes
creating libvirt management network nl_mgmt_17
provider libvirt: executing vagrant up --provider libvirt

Initial configuration skipped, run 'netlab initial' to configure the devices
